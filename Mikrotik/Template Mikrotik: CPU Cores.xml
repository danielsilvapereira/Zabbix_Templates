<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2022-05-27T13:09:44Z</date><groups><group><name>Templates/Mikrotik</name></group></groups><templates><template><template>Template Mikrotik CPU Cores</template><name>Template Mikrotik: CPU Cores</name><groups><group><name>Templates/Mikrotik</name></group></groups><discovery_rules><discovery_rule><name>Discovery CPU Cores</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#CPU},1.3.6.1.2.1.25.3.3.1.2]</snmp_oid><key>discovery.cpus.cores</key><delay>6h</delay><lifetime>0d</lifetime><item_prototypes><item_prototype><name>CPU Core #{#SNMPINDEX}: Utilização</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.25.3.3.1.2.{#SNMPINDEX}</snmp_oid><key>cpu.core.utilizacao-[{#SNMPINDEX}]</key><history>1w</history><value_type>FLOAT</value_type><units>%</units><trigger_prototypes><trigger_prototype><expression>{min(5m)}&gt;{$CPU.CORE.AVG}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{max(5m)}&lt;{$CPU.CORE.AVG}-3</recovery_expression><name>Utilização de CPU do core #{#CPUNUM} acima de {$CPU.CORE.AVG}%</name><opdata>Core #{#CPUNUM}: {ITEM.VALUE1}</opdata><priority>AVERAGE</priority><dependencies><dependency><name>Utilização de CPU do core #{#CPUNUM} acima de {$CPU.CORE.HIGH}%</name><expression>{Template Mikrotik CPU Cores:cpu.core.utilizacao-[{#SNMPINDEX}].min(5m)}&gt;{$CPU.CORE.HIGH}</expression><recovery_expression>{Template Mikrotik CPU Cores:cpu.core.utilizacao-[{#SNMPINDEX}].max(5m)}&lt;{$CPU.CORE.HIGH}-3</recovery_expression></dependency></dependencies></trigger_prototype><trigger_prototype><expression>{min(5m)}&gt;{$CPU.CORE.HIGH}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{max(5m)}&lt;{$CPU.CORE.HIGH}-3</recovery_expression><name>Utilização de CPU do core #{#CPUNUM} acima de {$CPU.CORE.HIGH}%</name><opdata>Core #{#CPUNUM}: {ITEM.VALUE1}</opdata><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{min(5m)}&gt;{$CPU.CORE.WARN}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{max(5m)}&lt;{$CPU.CORE.WARN}-3</recovery_expression><name>Utilização de CPU do core #{#CPUNUM} acima de {$CPU.CORE.WARN}%</name><opdata>Core #{#CPUNUM}: {ITEM.VALUE1}</opdata><priority>WARNING</priority><dependencies><dependency><name>Utilização de CPU do core #{#CPUNUM} acima de {$CPU.CORE.AVG}%</name><expression>{Template Mikrotik CPU Cores:cpu.core.utilizacao-[{#SNMPINDEX}].min(5m)}&gt;{$CPU.CORE.AVG}</expression><recovery_expression>{Template Mikrotik CPU Cores:cpu.core.utilizacao-[{#SNMPINDEX}].max(5m)}&lt;{$CPU.CORE.AVG}-3</recovery_expression></dependency><dependency><name>Utilização de CPU do core #{#CPUNUM} acima de {$CPU.CORE.HIGH}%</name><expression>{Template Mikrotik CPU Cores:cpu.core.utilizacao-[{#SNMPINDEX}].min(5m)}&gt;{$CPU.CORE.HIGH}</expression><recovery_expression>{Template Mikrotik CPU Cores:cpu.core.utilizacao-[{#SNMPINDEX}].max(5m)}&lt;{$CPU.CORE.HIGH}-3</recovery_expression></dependency></dependencies></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$CPU.CORE.AVG}</macro><value>75</value><description>Limite médio para a trigger de CPU (núcleo)</description></macro><macro><macro>{$CPU.CORE.HIGH}</macro><value>85</value><description>Limite alto para para a trigger de CPU (núcleo)</description></macro><macro><macro>{$CPU.CORE.WARN}</macro><value>60</value><description>Limite atenção para a trigger de CPU (núcleo)</description></macro></macros></template></templates></zabbix_export>

