<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2022-05-27T13:09:43Z</date><groups><group><name>Templates/Huawei</name></group></groups><templates><template><template>Template Huawei Recursos</template><name>Template Huawei: Recursos</name><groups><group><name>Templates/Huawei</name></group></groups><discovery_rules><discovery_rule><name>Discovery Fans</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#FANID},1.3.6.1.4.1.2011.5.25.31.1.1.10.1.1]</snmp_oid><key>discovery.fans</key><delay>24h</delay><lifetime>0d</lifetime><item_prototypes><item_prototype><name>FAN #{#SNMPINDEX}: Speed</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.10.1.5.{#SNMPINDEX}</snmp_oid><key>fan.speed.[{#SNMPINDEX}]</key><history>2w</history><trends>0</trends><application_prototypes><application_prototype><name>Fan #{#SNMPINDEX}</name></application_prototype></application_prototypes><valuemap><name>Huawei Fan Status</name></valuemap></item_prototype><item_prototype><name>FAN #{#SNMPINDEX}: Status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.10.1.7.{#SNMPINDEX}</snmp_oid><key>fan.status.[{#SNMPINDEX}]</key><history>2w</history><trends>0</trends><application_prototypes><application_prototype><name>Fan #{#SNMPINDEX}</name></application_prototype></application_prototypes><valuemap><name>Huawei Fan Status</name></valuemap><trigger_prototypes><trigger_prototype><expression>{count(#1,2)}=1</expression><name>Estado critico na fan #{#FANID}</name><opdata>Status: {ITEM.VALUE1}</opdata><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Discovery MPU/IPU</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#HW_NOME},1.3.6.1.2.1.47.1.1.1.1.2]</snmp_oid><key>discovery.mpu</key><delay>24h</delay><filter><conditions><condition><macro>{#HW_NOME}</macro><value>{$TYPE.MATCH}</value><formulaid>A</formulaid></condition></conditions></filter><lifetime>0d</lifetime><item_prototypes><item_prototype><name>{#HW_NOME}: Temperatura</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.1.1.7.{#SNMPINDEX}</snmp_oid><key>temperatura-[{#HW_NOME}]</key><history>7d</history><units>ºC</units><trigger_prototypes><trigger_prototype><expression>{avg(5m)}&gt;{$TEMP.AVG}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{avg(5m)}&lt;({$TEMP.AVG}-3)</recovery_expression><name>Temperatura acima de {$TEMP.AVG}: {#HW_NOME}</name><opdata>Temperatura: {ITEM.VALUE1}</opdata><priority>AVERAGE</priority><dependencies><dependency><name>Temperatura acima de {$TEMP.HIGH}: {#HW_NOME}</name><expression>{Template Huawei Recursos:temperatura-[{#HW_NOME}].avg(5m)}&gt;{$TEMP.HIGH}</expression><recovery_expression>{Template Huawei Recursos:temperatura-[{#HW_NOME}].avg(5m)}&lt;({$TEMP.HIGH}-3)</recovery_expression></dependency></dependencies></trigger_prototype><trigger_prototype><expression>{avg(5m)}&gt;{$TEMP.HIGH}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{avg(5m)}&lt;({$TEMP.HIGH}-3)</recovery_expression><name>Temperatura acima de {$TEMP.HIGH}: {#HW_NOME}</name><opdata>Temperatura: {ITEM.VALUE1}</opdata><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>{#HW_NOME}: Utilização de CPU</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.1.1.5.{#SNMPINDEX}</snmp_oid><key>utilizacao.cpu-[{#HW_NOME}]</key><history>7d</history><units>%</units></item_prototype><item_prototype><name>{#HW_NOME}: Utilização de Memoria</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.1.1.7.{#SNMPINDEX}</snmp_oid><key>utilizacao.memoria-[{#HW_NOME}]</key><history>7d</history><units>%</units></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{Template Huawei Recursos:utilizacao.cpu-[{#HW_NOME}].min(5m)}&gt;{$CPU.AVG}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template Huawei Recursos:temperatura-[{#HW_NOME}].avg(5m)}&lt;({$TEMP.AVG}-3)</recovery_expression><name>Utilização de CPU acima de {$CPU.AVG}: {#HW_NOME}</name><opdata>Utilização: {ITEM.VALUE1}</opdata><priority>AVERAGE</priority><dependencies><dependency><name>Utilização de CPU acima de {$CPU.HIGH}: {#HW_NOME}</name><expression>{Template Huawei Recursos:utilizacao.cpu-[{#HW_NOME}].min(5m)}&gt;{$CPU.HIGH}</expression><recovery_expression>{Template Huawei Recursos:temperatura-[{#HW_NOME}].avg(5m)}&lt;({$TEMP.HIGH}-3)</recovery_expression></dependency></dependencies></trigger_prototype><trigger_prototype><expression>{Template Huawei Recursos:utilizacao.cpu-[{#HW_NOME}].min(5m)}&gt;{$CPU.HIGH}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template Huawei Recursos:temperatura-[{#HW_NOME}].avg(5m)}&lt;({$TEMP.HIGH}-3)</recovery_expression><name>Utilização de CPU acima de {$CPU.HIGH}: {#HW_NOME}</name><opdata>Utilização: {ITEM.VALUE1}</opdata><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{Template Huawei Recursos:utilizacao.cpu-[{#HW_NOME}].min(5m)}&gt;{$MEM.WARN}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template Huawei Recursos:temperatura-[{#HW_NOME}].avg(5m)}&lt;({$MEM.WARN}-3)</recovery_expression><name>Utilização de memória acima de {$MEM.WARN}: {#HW_NOME}</name><opdata>Utilização: {ITEM.VALUE1}</opdata><priority>WARNING</priority></trigger_prototype></trigger_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$CPU.AVG}</macro><value>50</value></macro><macro><macro>{$CPU.HIGH}</macro><value>75</value></macro><macro><macro>{$FAN.WARN}</macro><value>2</value></macro><macro><macro>{$MEM.WARN}</macro><value>85</value></macro><macro><macro>{$TEMP.AVG}</macro><value>50</value></macro><macro><macro>{$TEMP.HIGH}</macro><value>75</value></macro><macro><macro>{$TYPE.MATCH}</macro><value>(MPU.*|Integration Processing Unit.*)</value></macro></macros></template></templates><value_maps><value_map><name>Huawei Fan Status</name><mappings><mapping><value>1</value><newvalue>Normal</newvalue></mapping><mapping><value>2</value><newvalue>Anormal</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>

