<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2022-05-27T13:09:49Z</date><groups><group><name>Templates/Base SNMP</name></group></groups><templates><template><template>Template SNMP Interfaces - Completo</template><name>Template SNMP: Interfaces - Completo</name><groups><group><name>Templates/Base SNMP</name></group></groups><discovery_rules><discovery_rule><name>Descoberta de Interfaces</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFADMINSTATUS},1.3.6.1.2.1.2.2.1.7,{#IFALIAS},1.3.6.1.2.1.31.1.1.1.18,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2,{#IFTYPE},1.3.6.1.2.1.2.2.1.3]</snmp_oid><key>descoberta.interfaces</key><delay>3h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#IFADMINSTATUS}</macro><value>{$FILTER.IF.ADMSTATUS}</value><formulaid>A</formulaid></condition><condition><macro>{#IFADMINSTATUS}</macro><value>{$FILTER.IF.ADMSTATUS.NOT}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>B</formulaid></condition><condition><macro>{#IFNAME}</macro><value>{$FILTER.IF.NAME}</value><formulaid>C</formulaid></condition><condition><macro>{#IFNAME}</macro><value>{$FILTER.IF.NAME.NOT}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>D</formulaid></condition></conditions></filter><lifetime>7d</lifetime><item_prototypes><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Pacotes descartados in</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.2.2.1.13.{#SNMPINDEX}</snmp_oid><key>if.pacotes.descartados.in-[{#IFNAME}]</key><history>1w</history><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Pacotes descartados out</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.2.2.1.19.{#SNMPINDEX}</snmp_oid><key>if.pacotes.descartados.out-[{#IFNAME}]</key><history>1w</history><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Pacotes erros in</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}</snmp_oid><key>if.pacotes.erros.in-[{#IFNAME}]</key><history>1w</history><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Pacotes erros out</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}</snmp_oid><key>if.pacotes.erros.out-[{#IFNAME}]</key><history>1w</history><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Status operacional</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid><key>if.status.operacional-[{#IFNAME}]</key><history>1w</history><trends>90d</trends><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><valuemap><name>IF MIB: Status Operacional</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=2 and {diff()}=1</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{last()}&lt;&gt;2</recovery_expression><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><opdata>Status: {ITEM.LASTVALUE1}</opdata><priority>DISASTER</priority><manual_close>YES</manual_close><tags><tag><tag>Interfaces</tag><value>Status</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Tráfego bits in</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}</snmp_oid><key>if.trafego.bits.in-[{#IFNAME}]</key><history>1w</history><units>bps</units><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step><step><type>MULTIPLIER</type><params>8</params></step></preprocessing></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Tráfego bits out</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}</snmp_oid><key>if.trafego.bits.out-[{#IFNAME}]</key><history>1w</history><units>bps</units><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step><step><type>MULTIPLIER</type><params>8</params></step></preprocessing></item_prototype><item_prototype><name>IF {#IFNAME} - ({#IFALIAS}): Velocidade</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.31.1.1.1.15.{#SNMPINDEX}</snmp_oid><key>if.velocidade-[{#IFNAME}]</key><delay>5m</delay><history>1w</history><trends>0</trends><units>bps</units><application_prototypes><application_prototype><name>IF {#IFNAME} - {#IFALIAS}</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>1000000</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>1h</params></step></preprocessing></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].change()}&lt;0 and {Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>({Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].change()}&gt;0 and {Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].prev()}&gt;0) or&#13;
({Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2)</recovery_expression><name>Alteração na velocidade da interface {#IFNAME} - ({#IFALIAS})</name><opdata>Velocidade: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Velocidade</value></tag></tags></trigger_prototype><trigger_prototype><expression>{Template SNMP Interfaces - Completo:if.pacotes.erros.in-[{#IFNAME}].min(5m)}&gt;{$IF.ERROS:&quot;{#IFNAME}&quot;}&#13;
or {Template SNMP Interfaces - Completo:if.pacotes.erros.out-[{#IFNAME}].min(5m)}&gt;{$IF.ERROS:&quot;{#IFNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template SNMP Interfaces - Completo:if.pacotes.erros.in-[{#IFNAME}].max(5m)}&lt;{$IF.ERROS:&quot;{#IFNAME}&quot;}*0.8&#13;
and {Template SNMP Interfaces - Completo:if.pacotes.erros.out-[{#IFNAME}].max(5m)}&lt;{$IF.ERROS:&quot;{#IFNAME}&quot;}*0.8</recovery_expression><name>Pacotes com erros acima de {$IF.ERROS} na interface {#IFNAME} - ({#IFALIAS})</name><opdata>In {ITEM.LASTVALUE1} | Out: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Pacotes</value></tag></tags></trigger_prototype><trigger_prototype><expression>{Template SNMP Interfaces - Completo:if.pacotes.descartados.in-[{#IFNAME}].min(5m)}&gt;{$IF.ERROS:&quot;{#IFNAME}&quot;}&#13;
or {Template SNMP Interfaces - Completo:if.pacotes.descartados.out-[{#IFNAME}].min(5m)}&gt;{$IF.ERROS:&quot;{#IFNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template SNMP Interfaces - Completo:if.pacotes.descartados.in-[{#IFNAME}].max(5m)}&lt;{$IF.ERROS:&quot;{#IFNAME}&quot;}*0.8&#13;
and {Template SNMP Interfaces - Completo:if.pacotes.descartados.out-[{#IFNAME}].max(5m)}&lt;{$IF.ERROS:&quot;{#IFNAME}&quot;}*0.8</recovery_expression><name>Pacotes descartadados acima {$IF.ERROS} na interface {#IFNAME} - ({#IFALIAS})</name><opdata>In: {ITEM.LASTVALUE1} | Out: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Pacotes</value></tag></tags></trigger_prototype><trigger_prototype><expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(10m)}&lt;((100-{$IF.UTIL.LOW})/100)*{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(10m,7d)} and {Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(10m)} &gt; 100M or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(10m)}&lt;((100-{$IF.UTIL.LOW})/100)*{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(10m,7d)} and {Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(10m)} &gt; 100M</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(10m)}&gt;((95-{$IF.UTIL.LOW})/100)*{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(10m,7d)} or {Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(10m)}&gt;((95-{$IF.UTIL.LOW})/100)*{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(10m,7d)}</recovery_expression><name>Queda de {$IF.UTIL.LOW}% do tráfego na interface {#IFNAME} - ({#IFALIAS})</name><opdata>In: {ITEM.LASTVALUE1} | Out: {ITEM.LASTVALUE3}</opdata><priority>WARNING</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Tráfego</value></tag></tags></trigger_prototype><trigger_prototype><expression>({Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}) and&#13;
{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} and&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}</recovery_expression><name>Tráfego acima de {$IF.UTIL.AVG}% na interface {#IFNAME} - ({#IFALIAS})</name><opdata>In: {ITEM.LASTVALUE1}  | Out: {ITEM.LASTVALUE3} | Velocidade: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency><dependency><name>Tráfego acima de {$IF.UTIL.HIGH}% na interface {#IFNAME} - ({#IFALIAS})</name><expression>({Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}) and&#13;
{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} and&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Tráfego</value></tag></tags></trigger_prototype><trigger_prototype><expression>({Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}) and&#13;
{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} and&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}</recovery_expression><name>Tráfego acima de {$IF.UTIL.HIGH}% na interface {#IFNAME} - ({#IFALIAS})</name><opdata>In: {ITEM.LASTVALUE1} | Out: {ITEM.LASTVALUE3} | Velocidade: {ITEM.LASTVALUE2}</opdata><priority>HIGH</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Tráfego</value></tag></tags></trigger_prototype><trigger_prototype><expression>({Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.WARN:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.WARN:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}) and&#13;
{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.WARN:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} and&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.WARN:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}</recovery_expression><name>Tráfego acima de {$IF.UTIL.WARN}% na interface {#IFNAME} - ({#IFALIAS})</name><opdata>In: {ITEM.LASTVALUE1} | Out: {ITEM.LASTVALUE3} | Velocidade: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><manual_close>YES</manual_close><dependencies><dependency><name>Link down na interface {#IFNAME} - ({#IFALIAS})</name><expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}=2 and {Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].diff()}=1</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.status.operacional-[{#IFNAME}].last()}&lt;&gt;2</recovery_expression></dependency><dependency><name>Tráfego acima de {$IF.UTIL.AVG}% na interface {#IFNAME} - ({#IFALIAS})</name><expression>({Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}) and&#13;
{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} and&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.AVG:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}</recovery_expression></dependency><dependency><name>Tráfego acima de {$IF.UTIL.HIGH}% na interface {#IFNAME} - ({#IFALIAS})</name><expression>({Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} or&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].avg(15m)}&gt;({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}) and&#13;
{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}&gt;0</expression><recovery_expression>{Template SNMP Interfaces - Completo:if.trafego.bits.in-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()} and&#13;
{Template SNMP Interfaces - Completo:if.trafego.bits.out-[{#IFNAME}].min(20m)}&lt;(({$IF.UTIL.HIGH:&quot;{#IFNAME}&quot;}-10)/100)*{Template SNMP Interfaces - Completo:if.velocidade-[{#IFNAME}].last()}</recovery_expression></dependency></dependencies><tags><tag><tag>Interfaces</tag><value>Tráfego</value></tag></tags></trigger_prototype></trigger_prototypes><overrides><override><name>Interfaces virtuais</name><step>1</step><filter><conditions><condition><macro>{#IFTYPE}</macro><value>{$FILTER.IF.FISICO}</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><operations><operation><operationobject>ITEM_PROTOTYPE</operationobject><operator>LIKE</operator><value>Velocidade</value><discover>NO_DISCOVER</discover></operation><operation><operationobject>ITEM_PROTOTYPE</operationobject><operator>LIKE</operator><value>Pacotes erros</value><status>DISABLED</status><discover>NO_DISCOVER</discover></operation><operation><operationobject>ITEM_PROTOTYPE</operationobject><operator>LIKE</operator><value>Pacotes descartados</value><status>DISABLED</status><discover>NO_DISCOVER</discover></operation><operation><operationobject>TRIGGER_PROTOTYPE</operationobject><operator>LIKE</operator><value>Alteração na velocidade da interface</value><status>DISABLED</status><discover>NO_DISCOVER</discover></operation><operation><operationobject>TRIGGER_PROTOTYPE</operationobject><operator>LIKE</operator><value>Pacotes com erros acima</value><status>DISABLED</status><discover>NO_DISCOVER</discover></operation><operation><operationobject>TRIGGER_PROTOTYPE</operationobject><operator>LIKE</operator><value>Tráfego acima de</value><status>DISABLED</status><discover>NO_DISCOVER</discover></operation><operation><operationobject>TRIGGER_PROTOTYPE</operationobject><operator>LIKE</operator><value>Pacotes descartadados</value><status>DISABLED</status><discover>NO_DISCOVER</discover></operation></operations></override></overrides></discovery_rule></discovery_rules><macros><macro><macro>{$FILTER.IF.ADMSTATUS}</macro><value>^.*$</value><description>Filtro corresponde - If status administrativo</description></macro><macro><macro>{$FILTER.IF.ADMSTATUS.NOT}</macro><value>^2$</value><description>Filtro Não corresponde - If status administrativo</description></macro><macro><macro>{$FILTER.IF.FISICO}</macro><value>(6|7|11|62|69|117|250)</value><description>Filtro corresponde - If type</description></macro><macro><macro>{$FILTER.IF.NAME}</macro><value>^.*$</value><description>Filtro corresponde - If name</description></macro><macro><macro>{$FILTER.IF.NAME.NOT}</macro><value>(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12}|Loop*|Console*|ppp|ME|loop|virtual|pptp|VirtualLOOP*|pppoe)</value><description>Filtro Não corresponde - If name</description></macro><macro><macro>{$IF.ERROS}</macro><value>2</value><description>Trigger de erros de uma interface</description></macro><macro><macro>{$IF.UTIL.AVG}</macro><value>80</value><description>Trigger para utilização alta de tráfego em uma interface</description></macro><macro><macro>{$IF.UTIL.HIGH}</macro><value>90</value><description>Trigger para utilização alta de tráfego em uma interface</description></macro><macro><macro>{$IF.UTIL.LOW}</macro><value>80</value><description>Trigger para queda de tráfego</description></macro><macro><macro>{$IF.UTIL.WARN}</macro><value>70</value><description>Trigger para utilização alta de tráfego em uma interface</description></macro></macros></template></templates><value_maps><value_map><name>IF MIB: Status Operacional</name><mappings><mapping><value>1</value><newvalue>up</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>testing</newvalue></mapping><mapping><value>4</value><newvalue>unknown</newvalue></mapping><mapping><value>5</value><newvalue>dormant</newvalue></mapping><mapping><value>6</value><newvalue>notPresent</newvalue></mapping><mapping><value>7</value><newvalue>lowerLayerDown</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>

